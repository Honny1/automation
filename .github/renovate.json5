/*
   Renovate is a service similar to GitHub Dependabot, but with
   (fantastically) more configuration options.  So many options
   in fact, if you're new I recommend glossing over this cheat-sheet
   prior to the official documentation:

   https://www.augmentedmind.de/2021/07/25/renovate-bot-cheat-sheet

   Configuration Update/Change Procedure:
     1. Make changes
     2. Manually validate changes (from repo-root):

        podman run -it \
            -v ./.github/renovate.json5:/usr/src/app/renovate.json5:z \
            docker.io/renovate/renovate:latest \
            renovate-config-validator
     3. Commit.

   Configuration Reference:
   https://docs.renovatebot.com/configuration-options/

   Monitoring Dashboard:
   https://app.renovatebot.com/dashboard#github/containers

   Note: The Renovate bot will create/manage it's business on
         branches named 'renovate/*'.  Otherwise, and by
         default, the only the copy of this file that matters
         is the one on the `main` branch.  No other branches
         will be monitored or touched in any way.
*/

{
  /*************************************************
   ****** Global/general configuration options *****
   *************************************************/
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  // Re-use predefined sets of configuration options to DRY
  "extends": [
    // https://docs.renovatebot.com/presets-config/#configbase
    "config:base",
    // https://docs.renovatebot.com/presets-default/#preservesemverranges
    ":preserveSemverRanges",
    // https://docs.renovatebot.com/presets-default/#gitsignoff
    ":gitSignOff",
    // Always rebase dep. update PRs from `main` when PR is stale
    ":rebaseStalePrs",
    // https://docs.renovatebot.com/presets-schedule/#scheduleweekly
    "schedule:weekly"
  ],
  // Don't swamp CI, rate-limit opening of PRs w/in schedule limits.
  "prHourlyLimit": 1,

  /*************************************************
   *** Repository-specific configuration options ***
   *************************************************/
  // Make renovate PRs stand out from the crowd
  "labels": ["dependencies_update"],
  // Don't leave dep. update. PRs "hanging", assign them to people.
  "reviewers": ["cevich"],
}
